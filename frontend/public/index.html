<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset='utf-8'>
    <meta name='viewport' content='width=device-width,initial-scale=1'>

    <title>delivr.dev</title>

    <link rel="icon" type="image/png" href="/favicon.png">
    <link rel="stylesheet" href="/global.css">
    <link rel="stylesheet" href="/build/bundle.css">

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
          integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
          crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
            integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
            crossorigin=""></script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script defer src='/build/bundle.js'></script>
    <script>
        function setNode(node, operation) {

            let check_confirm = window.confirm("Are you sure you want to set " + node.toUpperCase() + " BGP state to " + operation + "?");

            if (check_confirm) {
                fetch("https://dash.delivr.dev/api/nodes/power", {
                    method: "POST",
                    credentials: "include",
                    body: JSON.stringify({
                        name: node,
                        state: operation
                    }),
                    headers: {
                        "Content-Type": "application/json"
                    }
                })
                    .then(response => response.json())
                    .then(data => alert(data["message"]))
            }
        }
    </script>
</head>

<body>
</body>
</html>
